#===================================
# Configuration Properties
#===================================
status=warn
name=LoggerConfiguration

#===================================
# Console and RollingFile Property
#===================================
property.logger.pattern=[%level] %d{EEEE, dd-MMM-yyyy HH:mm:ss.SSS} [%C : %M : %L]%n%msg%n

#==============================
# Splunk Property
#==============================
property.splunk.application = my_app_service_log
property.splunk.env = DEV
property.splunk.sourcetype = log4j

#==============================
# Logger's Appender
#==============================

# 1. Console Appender
appender.console.type=Console
appender.console.name=Console
appender.console.layout.type=PatternLayout
appender.console.layout.pattern=${logger.pattern}

# 2. Rolling File Appender
appender.rolling.type=RollingFile
appender.rolling.name=RollingFileLogger
appender.rolling.fileName=logs/app.log
appender.rolling.filePattern=logs/app-%i.log.gz
appender.rolling.layout.type=PatternLayout
appender.rolling.layout.pattern=${logger.pattern}
appender.rolling.policies.type=Policies
appender.rolling.policies.size.type=SizeBasedTriggeringPolicy
appender.rolling.policies.size.size=50MB
appender.rolling.strategy.type=DefaultRolloverStrategy
appender.rolling.strategy.max=5

# 3. Splunk HTTP Appender
appender.splunk.type=SplunkHttp
appender.splunk.name=SplunkHTTPLogger
appender.splunk.url=http://localhost:8088
appender.splunk.token=${env:SPLUNK_TOKEN}
appender.splunk.index=spring_dev
appender.splunk.source=source name
appender.splunk.messageFormat=_json
appender.splunk.layout.type=PatternLayout
appender.splunk.layout.pattern = "%style{%d{ISO8601}} %highlight{%-5level }[%style{%t}{bright,blue}] %style{%C{10}}{bright,yellow}: %msg%n%throwable"
appender.splunk.timeout = 5000
appender.splunk.batchSize = 5
appender.splunk.maxRetries = 3
appender.splunk.ignoreExceptions = false
appender.splunk.disableCertificateValidation = true

#==============================
# Logger Configuration
#==============================
rootLogger.level=INFO
rootLogger.appenderRefs=console, rolling, splunk
rootLogger.appenderRef.console.ref=Console
rootLogger.appenderRef.rolling.ref=RollingFileLogger
rootLogger.appenderRef.splunk.ref = SplunkHTTPLogger
